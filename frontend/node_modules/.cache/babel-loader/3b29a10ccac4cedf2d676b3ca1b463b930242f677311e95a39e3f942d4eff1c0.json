{"ast":null,"code":"import React from'react';import axios from'axios';import{useEffect,useState}from'react';import'../../../../viewcss/qlchamcong/qlcalamviec/Cc.css';import{Link,NavLink,useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Chinhsuacc=()=>{const navigate=useNavigate();const currenturl=window.location.href;const timid=new URLSearchParams(currenturl);const idns=timid.get('idns');const idcc=timid.get('idcc');const idcl=timid.get('idcl');const[Nhansu,setNhansu]=useState({});const[Chucvus,setChucvu]=useState([]);const[calam,setcalam]=useState([]);const[Chamcong,setChamcong]=useState({Idns:idns,Idcalamviec:'',Thoigianlam:'',luong:''});useEffect(()=>{axios.get(\"http://localhost:3000/nhansu/\"+idns).then(Response=>{if(Response.data){setNhansu(Response.data);}else{alert(Response.data);}}).catch(err=>console.log(err));axios.get(\"http://localhost:3000/chamcong/\"+idcc).then(Response=>setChamcong(Response.data)).catch(err=>console.log(err));axios.get(\"http://localhost:3000/calamviec/\"+idcl).then(Response=>setcalam(Response.data)).catch(err=>console.log(err));axios.get('http://localhost:3000/chucvu').then(response=>{if(response.data){setChucvu(response.data);}else{alert('No data found');}}).catch(err=>console.log(err));},[]);const dataToSend={Idns:Chamcong.Idns,Idcalamviec:Chamcong.Idcalamviec,Thoigianlam:Chamcong.Thoigianlam,luong:Chamcong.luong};function luu(){axios.put('http://localhost:3000/chamcong/'+idcc,dataToSend).then(_res=>{navigate('/quanlycongtacnhanvien/quanlyvitri');}).catch(err=>console.log(err));};return/*#__PURE__*/_jsxs(\"div\",{children:[\"Ch\\u1EA5m C\\xF4ng Cho : \",/*#__PURE__*/_jsx(\"span\",{children:Nhansu.Hoten}),/*#__PURE__*/_jsx(\"br\",{}),Chucvus.map(cv=>{if(Nhansu.Chucvu===cv._id){return/*#__PURE__*/_jsxs(\"span\",{children:[\"ch\\u1EE9c v\\u1EE5:\",cv.Tenchucvu]},cv._id);}return null;}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[\"t\\xEAn ca:\",calam.Tencalam]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"tr\",{children:[\"daytime:\",calam.Ngay,\"/\",calam.Thang,\"/\",calam.Nam]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsxs(\"tr\",{children:[\"Th\\u1EDDi gian l\\xE0m:\",calam.Starttime+\"H-\"+calam.Endtime,\"H\"]}),/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:luu,children:[\"th\\u1EDDi gian l\\xE0m vi\\u1EC7c: \",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:dataToSend.Thoigianlam,onChange:e=>setChamcong({...Chamcong,Thoigianlam:e.target.value}),placeholder:\"th\\u1EDDi gian l\\xE0m vi\\u1EC7c(gi\\u1EDD)\",className:\"\",required:true}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"L\\u01B0\\u01A1ng: \",/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:dataToSend.luong,onChange:e=>setChamcong({...Chamcong,luong:e.target.value}),placeholder:\"Nh\\u1EADp L\\u01B0\\u01A1ng (VND)\",className:\"\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"\",children:\"Ch\\u1EA5m l\\u1EA1i\"})]})]});};export default Chinhsuacc;","map":{"version":3,"names":["React","axios","useEffect","useState","Link","NavLink","useNavigate","jsx","_jsx","jsxs","_jsxs","Chinhsuacc","navigate","currenturl","window","location","href","timid","URLSearchParams","idns","get","idcc","idcl","Nhansu","setNhansu","Chucvus","setChucvu","calam","setcalam","Chamcong","setChamcong","Idns","Idcalamviec","Thoigianlam","luong","then","Response","data","alert","catch","err","console","log","response","dataToSend","luu","put","_res","children","Hoten","map","cv","Chucvu","_id","Tenchucvu","Tencalam","Ngay","Thang","Nam","Starttime","Endtime","onSubmit","type","value","onChange","e","target","placeholder","className","required"],"sources":["C:/Users/vyvic/Downloads/New folder (3)/frontend/src/webfile/views/qlchamcong/qlcalamviec/chamcong/Chinhsuacc.jsx"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport '../../../../viewcss/qlchamcong/qlcalamviec/Cc.css';\r\nimport { Link, NavLink, useNavigate } from 'react-router-dom';\r\n\r\nconst Chinhsuacc = () => {\r\n    const navigate = useNavigate()\r\n    const currenturl = window.location.href;\r\n    const timid = new URLSearchParams(currenturl);\r\n    const idns = timid.get('idns');\r\n    const idcc = timid.get('idcc');\r\n    const idcl = timid.get('idcl');\r\n    const [Nhansu, setNhansu] = useState({})\r\n    const [Chucvus, setChucvu] = useState([])\r\n    const [calam, setcalam] = useState([])\r\n    const [Chamcong, setChamcong] = useState({\r\n        Idns:idns,\r\n        Idcalamviec:'',\r\n        Thoigianlam:'',\r\n        luong:''\r\n    })\r\n     \r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:3000/nhansu/\"+ idns)\r\n        .then(Response => { if(Response.data) {setNhansu(Response.data);} else {alert(Response.data)}}).catch(err => console.log(err))\r\n\r\n        axios.get(\"http://localhost:3000/chamcong/\"+ idcc)\r\n        .then((Response) => setChamcong(Response.data)).catch(err => console.log(err));\r\n        \r\n        axios.get(\"http://localhost:3000/calamviec/\"+ idcl)\r\n        .then((Response) => setcalam(Response.data)).catch(err => console.log(err));\r\n\r\n\r\n        axios.get('http://localhost:3000/chucvu')\r\n        .then(response => {if(response.data) {setChucvu(response.data);}else {alert('No data found');}}).catch(err => console.log(err));\r\n    }, [])\r\n\r\n    const dataToSend = {\r\n        Idns: Chamcong.Idns,\r\n        Idcalamviec: Chamcong.Idcalamviec,\r\n        Thoigianlam: Chamcong.Thoigianlam,\r\n        luong: Chamcong.luong\r\n    };   \r\n    function luu(){ \r\n        axios.put('http://localhost:3000/chamcong/'+idcc , dataToSend)\r\n        .then(_res =>{navigate('/quanlycongtacnhanvien/quanlyvitri')}).catch(err => console.log(err));\r\n    };\r\n    return ( \r\n        <div>Chấm Công Cho : <span>{Nhansu.Hoten}</span><br/>\r\n            {Chucvus.map((cv) => {\r\n                if (Nhansu.Chucvu === cv._id) {\r\n                    return <span key={cv._id}>chức vụ:{cv.Tenchucvu}</span>;\r\n                }\r\n                return null;\r\n            })}\r\n            <br/>\r\n            <div>\r\n                <tr>tên ca:{calam.Tencalam}</tr><div></div>\r\n                <tr>daytime:{calam.Ngay}/{calam.Thang}/{calam.Nam}</tr><div></div>\r\n                <tr>Thời gian làm:{calam.Starttime+\"H-\"+calam.Endtime}H</tr><div></div>\r\n            </div>\r\n            <form onSubmit={luu}>\r\n            thời gian làm việc: <input type=\"number\" value={dataToSend.Thoigianlam} onChange={(e) => setChamcong({ ...Chamcong, Thoigianlam: e.target.value })} placeholder='thời gian làm việc(giờ)' className='' required /> <br/>\r\n            Lương: <input type=\"number\" value={dataToSend.luong} onChange={(e) => setChamcong({ ...Chamcong, luong: e.target.value })} placeholder='Nhập Lương (VND)' className='' required/>    \r\n            <button className='' >Chấm lại</button>\r\n            </form>\r\n        </div>\r\n     );\r\n}\r\n\r\nexport default Chinhsuacc;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}