{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vyvic\\\\Downloads\\\\filecode-doan\\\\DoAnWebNhanSu\\\\frontend\\\\src\\\\webfile\\\\login\\\\login.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport bcrypt from 'bcryptjs';\nimport '../viewcss/login/login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [tontai, setTontai] = useState(true);\n  const [taikhoan, setTaikhoan] = useState([]);\n  useEffect(() => {\n    axios.get('http://localhost:3000/account').then(res => setTaikhoan(res.data)).catch(err => console.log(err));\n  }, []);\n  const [dangky, setDangky] = useState({\n    User: '',\n    Email: '',\n    Password: '',\n    Passwordd: '',\n    Quyenhang: '0',\n    Quyentruyvan: 'admin'\n  });\n  useEffect(() => {\n    taikhoan.forEach(e => {\n      if (e.Quyentruyvan === 'admin') {\n        setTontai(false);\n      }\n    });\n  }, [taikhoan]); // Don't forget to add dependencies if needed\n\n  //bam pass\n  useEffect(() => {\n    // Chèn mã ở trên vào đây\n    axios.get('http://localhost:3000/chucvu').then(response => {\n      const chucvuData = response.data;\n      const isExist = chucvuData.find(chucvu => chucvu.Hoten !== 'nguoimoi');\n      if (!isExist) {\n        const dataToSend = {\n          Tenchucvu: 'nguoimoi',\n          Quyenhang: '100',\n          Ghichu: ''\n        };\n        axios.post('http://localhost:3000/chucvu', dataToSend).then(response => {\n          console.log('New chucvu added:', response.data);\n        }).catch(err => {\n          console.error('Error adding new chucvu:', err);\n        });\n      } else {\n        console.log('Chucvu with Hoten \"nguoimoi\" already exists.');\n      }\n    }).catch(err => {\n      console.error('Error getting chucvu data:', err);\n    });\n  }, []);\n  // Hàm băm mật khẩu\n  const hashPassword = async password => {\n    const saltRounds = 10; // Số lượng vòng lặp để tạo muối\n    const salt = await bcrypt.genSalt(saltRounds);\n    const hashedPassword = await bcrypt.hash(password, salt);\n    return hashedPassword;\n  };\n  const comparePasswords = async (inputPassword, hashedPassword) => {\n    try {\n      const match = await bcrypt.compare(inputPassword, hashedPassword);\n      return match; // Kết quả match sẽ là true hoặc false\n    } catch (error) {\n      console.error('Lỗi khi so sánh mật khẩu:', error);\n      return false;\n    }\n  };\n  //sosanh pass vs user************\n  const handleSubmitLogin = async event => {\n    event.preventDefault();\n    let accId = '';\n\n    // Tìm ID của tài khoản\n    taikhoan.forEach(e => {\n      if (username === e.User) {\n        accId = e._id;\n      }\n    });\n    try {\n      // Gọi API để lấy thông tin người dùng dựa trên ID\n      const response = await axios.get('http://localhost:3000/account/' + accId);\n      const user = response.data;\n\n      // So sánh mật khẩu\n      const isMatch = await comparePasswords(password, user.Password);\n      if (isMatch) {\n        sessionStorage.setItem('loggedIn', 'true');\n        sessionStorage.setItem('Uid', user._id);\n        sessionStorage.setItem('UUser', user.User);\n        sessionStorage.setItem('UQuyenhang', user.Quyenhang);\n        sessionStorage.setItem('UQuyentruyvan', user.Quyentruyvan);\n        window.location.reload();\n      } else {\n        alert(\"Tài khoản hoặc mật khẩu sai\");\n      }\n    } catch (error) {\n      console.error('Lỗi:', error);\n    }\n  };\n\n  //********** */\n  const handleSubmitRegister = async () => {\n    try {\n      const hashedPassword = await hashPassword(dangky.Password);\n      const dataToSend = {\n        User: dangky.User,\n        Email: dangky.Email,\n        Password: hashedPassword + '',\n        Quyenhang: dangky.Quyenhang,\n        Quyentruyvan: dangky.Quyentruyvan\n      };\n      if (dangky.Password !== dangky.Passwordd) {\n        alert(\"Mật khẩu không giống nhau\");\n      } else {\n        const response = await axios.post('http://localhost:3000/account', dataToSend);\n        if (response.data) {\n          alert(\"Đăng ký thành công\");\n          window.location.reload();\n        } else {\n          alert(response.data);\n        }\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  function formdangky() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signup-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signup-form-container\",\n        style: {\n          display: showLoginForm ? 'none' : 'block'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title\",\n          children: \" SignUp Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmitRegister,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"user\",\n              className: \"form-lable\",\n              children: \"User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              value: dangky.User,\n              onChange: e => setDangky({\n                ...dangky,\n                User: e.target.value\n              }),\n              id: \"user\",\n              className: \"form-control\",\n              type: \"text\",\n              name: \"user\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"form-lable\",\n              children: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              required: true,\n              value: dangky.Email,\n              onChange: e => setDangky({\n                ...dangky,\n                Email: e.target.value\n              }),\n              id: \"email\",\n              className: \"form-control\",\n              name: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"form-lable\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              required: true,\n              value: dangky.Password,\n              onChange: e => setDangky({\n                ...dangky,\n                Password: e.target.value\n              }),\n              id: \"Password\",\n              className: \"form-control\",\n              name: \"passwowrd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"confim-password\",\n              className: \"form-lable\",\n              children: \"Confim Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 158,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              required: true,\n              value: dangky.Passwordd,\n              onChange: e => setDangky({\n                ...dangky,\n                Passwordd: e.target.value\n              }),\n              id: \"confim-password\",\n              className: \"form-control\",\n              name: \"confimPassword\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"submit-btn\",\n            children: \" SignUp \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: handleToggleForm,\n          className: \"submit-btn-phu\",\n          children: \" Login \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this);\n  }\n  const [showLoginForm, setShowLoginForm] = useState(true);\n  const handleToggleForm = () => {\n    setShowLoginForm(!showLoginForm);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-form-container\",\n      style: {\n        display: showLoginForm ? 'block' : 'none'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \" Login Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"all_center_login\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmitLogin,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"user\",\n              className: \"form-lable\",\n              children: \"Username:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              id: \"user\",\n              className: \"form-control\",\n              name: \"user\",\n              value: username,\n              onChange: e => setUsername(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"form-lable\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              required: true,\n              id: \"Password\",\n              className: \"form-control\",\n              name: \"passwowrd\",\n              value: password,\n              onChange: e => setPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"submit-btn\",\n            children: \" Login \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this), tontai === false ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: handleToggleForm,\n          className: \"submit-btn-phu\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }, this), tontai === false ? null : formdangky()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 176,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"q7PSB1dV701erLKmwBt6W9x9tcI=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useEffect","useState","axios","bcrypt","jsxDEV","_jsxDEV","Login","_s","username","setUsername","password","setPassword","tontai","setTontai","taikhoan","setTaikhoan","get","then","res","data","catch","err","console","log","dangky","setDangky","User","Email","Password","Passwordd","Quyenhang","Quyentruyvan","forEach","e","response","chucvuData","isExist","find","chucvu","Hoten","dataToSend","Tenchucvu","Ghichu","post","error","hashPassword","saltRounds","salt","genSalt","hashedPassword","hash","comparePasswords","inputPassword","match","compare","handleSubmitLogin","event","preventDefault","accId","_id","user","isMatch","sessionStorage","setItem","window","location","reload","alert","handleSubmitRegister","formdangky","className","children","style","display","showLoginForm","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","required","value","onChange","target","id","type","name","onClick","handleToggleForm","setShowLoginForm","_c","$RefreshReg$"],"sources":["C:/Users/vyvic/Downloads/filecode-doan/DoAnWebNhanSu/frontend/src/webfile/login/login.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport bcrypt from 'bcryptjs';\r\nimport '../viewcss/login/login.css'\r\nconst Login = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [tontai, setTontai] = useState(true);\r\n    const [taikhoan, setTaikhoan] = useState([]);\r\n    useEffect(() => {\r\n        axios.get('http://localhost:3000/account')\r\n            .then((res) => setTaikhoan(res.data)).catch(err => console.log(err))\r\n    }, [])\r\n    const [dangky, setDangky] = useState({\r\n        User: '',\r\n        Email: '',\r\n        Password: '',\r\n        Passwordd: '',\r\n        Quyenhang: '0',\r\n        Quyentruyvan: 'admin',\r\n    })\r\n    useEffect(() => {\r\n        taikhoan.forEach((e) => {\r\n            if (e.Quyentruyvan === 'admin') {\r\n                setTontai(false);\r\n            }\r\n        });\r\n    }, [taikhoan]); // Don't forget to add dependencies if needed\r\n    \r\n    //bam pass\r\n    useEffect(() => {\r\n        // Chèn mã ở trên vào đây\r\n      axios.get('http://localhost:3000/chucvu')\r\n      .then(response => {\r\n        const chucvuData = response.data;\r\n        const isExist = chucvuData.find(chucvu => chucvu.Hoten !== 'nguoimoi');\r\n        \r\n        if (!isExist) {\r\n          const dataToSend = {\r\n            Tenchucvu: 'nguoimoi',\r\n            Quyenhang: '100',\r\n            Ghichu: '',\r\n          };\r\n          axios.post('http://localhost:3000/chucvu', dataToSend)\r\n            .then(response => {\r\n              console.log('New chucvu added:', response.data);\r\n            })\r\n            .catch(err => {\r\n              console.error('Error adding new chucvu:', err);\r\n            });\r\n        } else {\r\n          console.log('Chucvu with Hoten \"nguoimoi\" already exists.');\r\n        }\r\n      })\r\n      .catch(err => {\r\n        console.error('Error getting chucvu data:', err);\r\n      });\r\n      }, []);\r\n    // Hàm băm mật khẩu\r\n    const hashPassword = async (password) => {\r\n        const saltRounds = 10; // Số lượng vòng lặp để tạo muối\r\n        const salt = await bcrypt.genSalt(saltRounds);\r\n        const hashedPassword = await bcrypt.hash(password, salt);\r\n        return hashedPassword;\r\n    };\r\n    const comparePasswords = async (inputPassword, hashedPassword) => {\r\n        try {\r\n            const match = await bcrypt.compare(inputPassword, hashedPassword);\r\n            return match; // Kết quả match sẽ là true hoặc false\r\n        } catch (error) {\r\n            console.error('Lỗi khi so sánh mật khẩu:', error);\r\n            return false;\r\n        }\r\n    };\r\n    //sosanh pass vs user************\r\n    const handleSubmitLogin = async (event) => {\r\n        event.preventDefault();\r\n        let accId = '';\r\n    \r\n        // Tìm ID của tài khoản\r\n        taikhoan.forEach((e) => {\r\n            if (username === e.User) {\r\n                accId = e._id;\r\n            }\r\n        });\r\n    \r\n        try {\r\n            // Gọi API để lấy thông tin người dùng dựa trên ID\r\n            const response = await axios.get('http://localhost:3000/account/' + accId);\r\n            const user = response.data;\r\n    \r\n            // So sánh mật khẩu\r\n            const isMatch = await comparePasswords(password, user.Password);\r\n    \r\n            if (isMatch) {\r\n                sessionStorage.setItem('loggedIn', 'true');\r\n                sessionStorage.setItem('Uid', user._id);\r\n                sessionStorage.setItem('UUser', user.User);\r\n                sessionStorage.setItem('UQuyenhang', user.Quyenhang);\r\n                sessionStorage.setItem('UQuyentruyvan', user.Quyentruyvan);\r\n                window.location.reload();\r\n            } else {\r\n                alert(\"Tài khoản hoặc mật khẩu sai\");\r\n            }\r\n        } catch (error) {\r\n            console.error('Lỗi:', error);\r\n        }\r\n    };\r\n    \r\n    //********** */\r\n    const handleSubmitRegister = async () => {\r\n        try {\r\n            const hashedPassword = await hashPassword(dangky.Password);\r\n            const dataToSend = {\r\n                User: dangky.User,\r\n                Email: dangky.Email,\r\n                Password: hashedPassword + '',\r\n                Quyenhang: dangky.Quyenhang,\r\n                Quyentruyvan: dangky.Quyentruyvan\r\n            };\r\n            if (dangky.Password !== dangky.Passwordd) {\r\n                alert(\"Mật khẩu không giống nhau\");\r\n            } else {\r\n                const response = await axios.post('http://localhost:3000/account', dataToSend);\r\n                if (response.data) {\r\n                    alert(\"Đăng ký thành công\");\r\n                    window.location.reload();\r\n                } else {\r\n                    alert(response.data);\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n    function formdangky() {\r\n        return (\r\n            <div className='signup-page'>\r\n                <div className='signup-form-container' style={{ display: showLoginForm ? 'none' : 'block' }}>\r\n                    <h1 className='title'> SignUp Account</h1>\r\n                    <form onSubmit={handleSubmitRegister}>\r\n                        <div className='mb-2'>\r\n                            <label htmlFor='user' className='form-lable'>User</label>\r\n                            <input required value={dangky.User} onChange={(e) => setDangky({ ...dangky, User: e.target.value })} id='user' className='form-control' type='text' name='user' ></input>\r\n                        </div>\r\n\r\n                        <div className='mb-2'>\r\n                            <label htmlFor='email' className='form-lable'>email</label>\r\n                            <input type='email' required value={dangky.Email} onChange={(e) => setDangky({ ...dangky, Email: e.target.value })} id='email' className='form-control' name='email' ></input>\r\n                        </div>\r\n\r\n                        <div className='mb-2'>\r\n                            <label htmlFor='password' className='form-lable'>Password</label>\r\n                            <input type=\"password\" required value={dangky.Password} onChange={(e) => setDangky({ ...dangky, Password: e.target.value })} id='Password' className='form-control' name='passwowrd' ></input>\r\n                        </div>\r\n\r\n                        <div className='mb-2'>\r\n                            <label htmlFor='confim-password' className='form-lable'>Confim Password</label>\r\n                            <input type=\"password\" required value={dangky.Passwordd} onChange={(e) => setDangky({ ...dangky, Passwordd: e.target.value })} id='confim-password' className='form-control'  name='confimPassword' ></input>\r\n                        </div>\r\n\r\n                        <button type='submit' className='submit-btn'> SignUp </button>\r\n                        </form>\r\n                        <button type='submit' onClick={handleToggleForm} className='submit-btn-phu'> Login </button>\r\n                    \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    const [showLoginForm, setShowLoginForm] = useState(true);\r\n\r\n    const handleToggleForm = () => {\r\n        setShowLoginForm(!showLoginForm);\r\n    };\r\n    return (\r\n        <div className='login-page'>\r\n            <div className='login-form-container' style={{ display: showLoginForm ? 'block' : 'none' }}>\r\n                <h1 className='title'> Login Account</h1>\r\n                <div className='all_center_login'>\r\n                    <form  onSubmit={handleSubmitLogin} >\r\n                    <div className='mb-2'>\r\n                        <label htmlFor='user' className='form-lable'>Username:</label>\r\n                        <input required id='user' className='form-control'  name='user' value={username} onChange={(e) => setUsername(e.target.value)} ></input>\r\n                    </div>\r\n                    <div className='mb-2'>\r\n                        <label htmlFor='password' className='form-lable'>Password</label>\r\n                        <input type=\"password\" required id='Password' className='form-control' name='passwowrd' value={password} onChange={(e) => setPassword(e.target.value)}></input>\r\n                    </div>\r\n                    <button type='submit'  className='submit-btn'> Login </button>\r\n                    </form>\r\n                    {tontai ===false ? null : <button type='submit' onClick={handleToggleForm} className='submit-btn-phu'>Register</button>}\r\n\r\n                </div>\r\n            </div>\r\n            {tontai === false ? null : formdangky()}\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}