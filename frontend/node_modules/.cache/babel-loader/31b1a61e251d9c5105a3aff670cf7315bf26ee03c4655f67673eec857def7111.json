{"ast":null,"code":"import React from'react';import{useNavigate,useParams}from'react-router-dom';import{useState}from'react';import{useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Chinhsua=()=>{const currenturl=window.location.href;const timid=new URLSearchParams(currenturl);const idns=timid.get('idns');const[Nhansu,setNhansu]=useState({Hoten:'',Cccd:'',Mnv:'',Sdt:'',luong:'',Chucvu:''});const navigate=useNavigate();const handleSubmit=event=>{event.preventDefault();const dataToSend={Hoten:Nhansu.Hoten,Cccd:Nhansu.Cccd,Mnv:Nhansu.Cccd,Sdt:Nhansu.Cccd,luong:Nhansu.luong,Chucvu:Nhansu.Chucvu};axios.put('http://localhost:3000/nhansu/'+idns,dataToSend).then(res=>{navigate('/quanlythongtinnhanvien');}).catch(err=>console.log(err));};const[Chucvu,setChucvu]=useState([]);useEffect(()=>{axios.get('http://localhost:3000/chucvu').then(response=>{if(response.data){setChucvu(response.data);}else{alert('No data found');}}).catch(err=>console.log(err));axios.get(\"http://localhost:3000/nhansu/\"+idns).then(Response=>{if(Response.data){setNhansu(Response.data);}else{alert(Response.data);}}).catch(err=>console.log(err));},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"\",children:\"Chinh sua Nhanvien\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Ho Ten:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nhap Hoten\",value:Nhansu.Hoten,onChange:e=>setNhansu({...Nhansu,Hoten:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputCCCD\",className:\"\",htmlFor:\"CCCD\",children:\"CCCD:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Nhap CCCD\",value:Nhansu.Cccd,onChange:e=>setNhansu({...Nhansu,Cccd:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputID\",className:\"\",htmlFor:\"Mnv\",children:\"Ma nhan vien:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nhap Mnv\",value:Nhansu.Mnv,onChange:e=>setNhansu({...Nhansu,Mnv:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputSdt\",className:\"\",htmlFor:\"SDT\",children:\"SDT:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Nhap SDT\",value:Nhansu.Sdt,onChange:e=>setNhansu({...Nhansu,Sdt:e.target.value}),required:true})]}),/*#__PURE__*/_jsx(\"label\",{for:\"inputLuong\",className:\"\",children:\"Luong:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Nhap Luong\",value:Nhansu.luong,onChange:e=>setNhansu({...Nhansu,luong:e.target.value}),required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Chuc vu:\"}),/*#__PURE__*/_jsx(\"select\",{name:\"Chucvu\",id:\"Chucvu\",className:\"\",onChange:e=>setNhansu({...Nhansu,Chucvu:e.target.value}),children:Chucvu.map(cv=>/*#__PURE__*/_jsx(\"option\",{value:cv._id,selected:Nhansu.Chucvu===cv._id,children:cv.Tenchucvu},cv._id))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"\",children:\"s\\u1EEDa Nhan vien\"})]})]})});};export default Chinhsua;","map":{"version":3,"names":["React","useNavigate","useParams","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Chinhsua","currenturl","window","location","href","timid","URLSearchParams","idns","get","Nhansu","setNhansu","Hoten","Cccd","Mnv","Sdt","luong","Chucvu","navigate","handleSubmit","event","preventDefault","dataToSend","put","then","res","catch","err","console","log","setChucvu","response","data","alert","Response","className","children","onSubmit","type","placeholder","value","onChange","e","target","required","for","htmlFor","name","id","map","cv","_id","selected","Tenchucvu"],"sources":["C:/Users/vyvic/Downloads/New folder (3)/frontend/src/webfile/views/qlhoso/qlthongtinnhanvien/Chinhsua.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport axios from 'axios'\r\nconst Chinhsua = () => {\r\n    const currenturl = window.location.href;\r\n    const timid = new URLSearchParams(currenturl);\r\n    const idns = timid.get('idns');\r\n    \r\n    const [Nhansu, setNhansu] = useState({\r\n        Hoten:'',\r\n        Cccd:'',\r\n        Mnv:'',\r\n        Sdt:'',\r\n        luong:'',\r\n        Chucvu:''\r\n    })\r\n    const navigate = useNavigate()\r\n    const handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst dataToSend = {\r\n            Hoten: Nhansu.Hoten,\r\n            Cccd: Nhansu.Cccd,\r\n            Mnv: Nhansu.Cccd,\r\n            Sdt: Nhansu.Cccd,\r\n            luong: Nhansu.luong,\r\n            Chucvu: Nhansu.Chucvu\r\n        };\r\n\t\taxios.put('http://localhost:3000/nhansu/'+ idns ,dataToSend)\r\n            .then(res => {navigate('/quanlythongtinnhanvien')}).catch(err => console.log(err));\r\n\t}\r\n\r\n    const [Chucvu, setChucvu] = useState([])\r\n    useEffect(() => {\r\n        axios.get('http://localhost:3000/chucvu')\r\n            .then(response => {if(response.data) {setChucvu(response.data);}else{alert('No data found');}}).catch(err => console.log(err));\r\n        axios.get(\"http://localhost:3000/nhansu/\"+ idns)\r\n            .then(Response =>{if(Response.data) {setNhansu(Response.data);}else{alert(Response.data)}}).catch(err => console.log(err))\r\n    }, [])\r\n    \r\n  return (\r\n    <div className=''>\r\n        <div className=''>\r\n            <h3 className=''>Chinh sua Nhanvien</h3>\r\n            <form className='' onSubmit={handleSubmit}>\r\n                <div className=''>\r\n                    <label >Ho Ten:</label>\r\n                <input type=\"text\" placeholder='Nhap Hoten' value={Nhansu.Hoten} onChange ={(e) => setNhansu({...Nhansu, Hoten: e.target.value})} required/>\r\n                </div>\r\n                <div className='col-12'>\r\n                    <label for=\"inputCCCD\" className=\"\" htmlFor=\"CCCD\">CCCD:</label>\r\n                <input type=\"number\" placeholder='Nhap CCCD' value={Nhansu.Cccd} onChange ={(e) => setNhansu({...Nhansu, Cccd: e.target.value})} required/>\r\n                </div>\r\n                <div className='col-12'>\r\n                    <label for=\"inputID\" className=\"\" htmlFor=\"Mnv\">Ma nhan vien:</label>\r\n                <input type=\"text\" placeholder='Nhap Mnv' value={Nhansu.Mnv} onChange ={(e) => setNhansu({...Nhansu, Mnv: e.target.value})} required />\r\n                </div>\r\n                <div className=''>\r\n                    <label for=\"inputSdt\" className=\"\" htmlFor=\"SDT\">SDT:</label>\r\n                <input type=\"number\" placeholder='Nhap SDT' value={Nhansu.Sdt} onChange ={(e) => setNhansu({...Nhansu, Sdt: e.target.value})}required/>\r\n                </div>\r\n                \r\n                <label for=\"inputLuong\" className=\"\">Luong:</label>\r\n                <input type=\"number\" placeholder='Nhap Luong'value={Nhansu.luong} onChange ={(e) => setNhansu({...Nhansu, luong: e.target.value})}required/> \r\n                <div className='col-12'>\r\n                    <label>Chuc vu:</label>\r\n                    <select name=\"Chucvu\" id=\"Chucvu\" className='' onChange={(e) => setNhansu({ ...Nhansu, Chucvu: e.target.value })}>\r\n                        {Chucvu.map((cv) => (\r\n                            <option key={cv._id} value={cv._id} selected={Nhansu.Chucvu === cv._id}>{cv.Tenchucvu}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                <button className=''>sá»­a Nhan vien</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Chinhsua"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}