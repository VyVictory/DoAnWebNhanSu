{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vyvic\\\\Downloads\\\\filecode-doan\\\\DoAnWebNhanSu\\\\frontend\\\\src\\\\webfile\\\\views\\\\qlchamcong\\\\qlcalamviec\\\\chamcong\\\\Cc.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport axios from 'axios';\nimport { useRef, useEffect, useState } from 'react';\nimport '../../../../viewcss/qlchamcong/qlcalamviec/Cc.css';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Chamcong = () => {\n  _s();\n  const [Nhansus, setNhansu] = useState([]);\n  const [Chucvus, setChucvu] = useState([]);\n  const [Chamcongs, setChamcongs] = useState([]);\n  const [Calams, setCalam] = useState([]);\n  const UQuyenhang = sessionStorage.getItem('UQuyenhang');\n  const [isOverlayVisible, setIsOverlayVisible] = useState(false);\n  const [Calams_set, setCalams_set] = useState([]);\n  const [idnsedit, setIdnsedit] = useState('');\n  const inputRef = useRef(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    axios.get('http://localhost:3000/nhansu').then(res => setNhansu(res.data)).catch(err => console.log(err));\n    axios.get('http://localhost:3000/chucvu').then(Response => {\n      if (Response.data) {\n        setChucvu(Response.data);\n      } else {\n        alert(Response.data);\n      }\n    }).catch(err => console.log(err));\n    axios.get('http://localhost:3000/chamcong').then(response => {\n      if (response.data) {\n        setChamcongs(response.data);\n      } else {\n        alert('No data found');\n      }\n    }).catch(err => console.log(err));\n    axios.get('http://localhost:3000/calamviec').then(res => setCalam(res.data)).catch(err => console.log(err));\n  }, []);\n  //calam\n  useEffect(() => {\n    const filteredCalams = Calams.filter(e => {\n      return Chamcongs.some(cc => cc.Idcalamviec === e._id && cc.Idns === idnsedit);\n    });\n    setCalams_set(filteredCalams);\n  }, [Calams, Chamcongs, idnsedit]);\n  //page phan chai\n  const [tranghientai, settranghientai] = useState(1);\n  const soluongitem = 9;\n  const indexcuoi = tranghientai * soluongitem;\n  const indexbacdau = indexcuoi - soluongitem;\n  const ACalams = Calams_set.slice(indexbacdau, indexcuoi);\n  const maxitem = Math.ceil(Calams_set.length / soluongitem);\n  const nextPage = () => {\n    if (tranghientai < maxitem) {\n      settranghientai(tranghientai + 1);\n    }\n  };\n  const prevPage = () => {\n    if (tranghientai > 1) {\n      settranghientai(tranghientai - 1);\n    }\n  };\n  function hienthibang() {\n    setIsOverlayVisible(true);\n  }\n  function tacbang() {\n    setIsOverlayVisible(false);\n  }\n  const [isButtonClicked, setIsButtonClicked] = useState(false);\n  const [sldatetime, setsldatetime] = useState('');\n  const handleDateChange = event => {\n    setsldatetime(event.target.value);\n  };\n  const [loc, setLoc] = useState([]);\n  function timkiemcalamtheongay(ngay, thang, nam) {\n    const loc = ACalams.filter(item => {\n      if (item.Ngay === ngay & item.Thang === thang & item.Nam === nam) {\n        const ngayMatches = item.Ngay === ngay;\n        const thangMatches = item.Thang === thang;\n        const namMatches = item.Nam === nam;\n        return ngayMatches || thangMatches || namMatches;\n      }\n      return false;\n    });\n    return loc;\n  }\n  function timkiem() {\n    const [year, month, day] = sldatetime.split('-').map(Number);\n    const result = timkiemcalamtheongay(day, month, year);\n    setLoc(result);\n    setIsButtonClicked(true);\n  }\n  function resettimkiem() {\n    setIsButtonClicked(false);\n  }\n  // const navigate = useNavigate()\n\n  //next edit\n\n  function next_edit_chamcong(a) {\n    let matchingId = '';\n    Chamcongs.forEach(e => {\n      if (e.Idcalamviec === a && e.Idns === idnsedit) {\n        matchingId = e._id;\n      }\n    });\n    navigate('/quanlychamcong/quanlycalamviec/Chinhsuacc/&idns=' + idnsedit + '&idcc=' + matchingId + '&idcl=' + a);\n  }\n  //********** */\n  function motcalamviec(id, ten, start, end, ngay, thang, nam) {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"table_calam_select\",\n      onClick: () => {\n        next_edit_chamcong(id);\n        tacbang();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [\"t\\xEAn ca:\", ten]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 34\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [\"daytime:\", ngay, \"/\", thang, \"/\", nam]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 50\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [\"Th\\u1EDDi gian l\\xE0m:\", start + \"H-\" + end, \"H\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 57\n      }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [\"L\\u01B0\\u01A1ng:\", Chamcongs.map(cc => {\n          if (cc.Idcalamviec !== id) {\n            return cc.Idcalamviec;\n          }\n          return null;\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 16\n    }, this);\n  }\n  // const [isButtonClicked, setIsButtonClicked] = useState(false);\n  const [locnhansu, setLocnhansu] = useState([]);\n  const [tutim, setTutim] = useState({\n    tutim: ''\n  });\n  const [selectedOption, setSelectedOption] = useState({\n    selecto: ''\n  });\n  const handleTim = () => {\n    const a = tutim.tutim ? tutim.tutim + '' : 'Hoten';\n    const filteredNhansus = Nhansus.filter(ns => {\n      const b = ns[selectedOption.selecto] + '';\n      if (typeof a === 'string' && typeof b === 'string') {\n        return b.includes(a);\n      }\n      return false;\n    });\n    setLocnhansu(filteredNhansus);\n    setIsButtonClicked(true);\n  };\n  function resettimkiemtext() {\n    inputRef.current.value = ''; // Xóa giá trị của input\n  }\n  ;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Danh S\\xE1ch Ch\\u1EA5m C\\xF4ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: isOverlayVisible ? \"overlay show\" : \"overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"centeredTable\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Danh S\\xE1ch Ca L\\xE0m \\u0110\\xE3 Ch\\u1EA5m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: tacbang,\n            children: \"T\\u1EAFt b\\u1EA3ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 62\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 105\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            id: \"inputngaytim\",\n            value: sldatetime,\n            onChange: handleDateChange,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: timkiem,\n            children: \"T\\xECm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 127\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: resettimkiem,\n            children: \"reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 70\n          }, this), isButtonClicked ? loc.map(e => {\n            return motcalamviec(e._id, e.Tencalam, e.Starttime, e.Endtime, e.Ngay, e.Thang, e.Nam);\n          }) : ACalams.map(e => {\n            return motcalamviec(e._id, e.Tencalam, e.Starttime, e.Endtime, e.Ngay, e.Thang, e.Nam);\n          }), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: prevPage,\n            children: \"tr\\u1EDF v\\u1EC1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 31\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\" trang:\", tranghientai, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: nextPage,\n            children: \"Ti\\u1EBFp\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [/*#__PURE__*/_jsxDEV(\"select\", {\n          onChange: e => setSelectedOption({\n            ...selectedOption,\n            selecto: e.target.value\n          }),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Ch\\u1ECDn m\\u1ED9t tr\\u01B0\\u1EDDng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Hoten\",\n            children: \"H\\u1ECD T\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"Mnv\",\n            children: \"Mnv\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"input-tim-kiem\",\n          type: \"text\",\n          ref: inputRef,\n          onChange: e => {\n            setTutim({\n              ...tutim,\n              tutim: e.target.value\n            });\n          },\n          placeholder: \"t\\u1EEB kh\\xF3a t\\xECm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cachra\",\n          onClick: handleTim,\n          children: \"T\\xECm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"cachra\",\n          onClick: () => {\n            resettimkiem();\n            resettimkiemtext();\n          },\n          children: \"reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"M\\xE3 Nh\\xE2n Vi\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"T\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Ch\\u1EE9c V\\u1EE5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Quy\\u1EC1n H\\u1EA1ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"T\\xF9y Ch\\u1ECDn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: isButtonClicked ? locnhansu.map(e => {\n          const correspondingChucvu = Chucvus.find(c => c._id === e.Chucvu);\n          if (correspondingChucvu && +correspondingChucvu.Quyenhang > +UQuyenhang) {\n            return {\n              _id: e._id,\n              Hoten: e.Hoten,\n              Cccd: e.Cccd,\n              Mnv: e.Mnv,\n              Sdt: e.Sdt,\n              luong: e.luong,\n              Tenchucvu: correspondingChucvu.Tenchucvu,\n              Quyenhang: correspondingChucvu.Quyenhang\n            };\n          } else {\n            return null;\n          }\n        }).filter(Boolean) // Lọc bỏ các phần tử null\n        .sort((a, b) => a.Quyenhang - b.Quyenhang) // Sắp xếp theo Quyenhang tăng dần\n        .map(e => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: e.Mnv\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: e.Hoten\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: e.Tenchucvu ? e.Tenchucvu : '-'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: e.Quyenhang\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-tuychon\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: 'http://localhost:3001/quanlychamcong/quanlycalamviec/chamcongcanhan/&idns=' + e._id,\n              className: \"btn btn-info btn-sm me-2\",\n              children: \"Ch\\u1EA5m C\\xF4ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-warning btn-sm\",\n              onClick: () => {\n                setIdnsedit(e._id);\n                hienthibang();\n              },\n              children: \"Ch\\u1EA5m L\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 33\n        }, this)) : Nhansus.map(e => {\n          const correspondingChucvu = Chucvus.find(c => c._id === e.Chucvu);\n          if (correspondingChucvu && +correspondingChucvu.Quyenhang > +UQuyenhang) {\n            return {\n              _id: e._id,\n              Hoten: e.Hoten,\n              Cccd: e.Cccd,\n              Mnv: e.Mnv,\n              Sdt: e.Sdt,\n              luong: e.luong,\n              Tenchucvu: correspondingChucvu.Tenchucvu,\n              Quyenhang: correspondingChucvu.Quyenhang\n            };\n          } else {\n            return null;\n          }\n        }).filter(Boolean) // Lọc bỏ các phần tử null\n        .sort((a, b) => a.Quyenhang - b.Quyenhang) // Sắp xếp theo Quyenhang tăng dần\n        .map(e => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: e.Mnv\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: e.Hoten\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: e.Tenchucvu ? e.Tenchucvu : '-'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: e.Quyenhang\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 37\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            className: \"td-tuychon\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: 'http://localhost:3001/quanlychamcong/quanlycalamviec/chamcongcanhan/&idns=' + e._id,\n              className: \"btn btn-info btn-sm me-2\",\n              children: \"Ch\\u1EA5m C\\xF4ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"bt-chamlai\",\n              onClick: () => {\n                setIdnsedit(e._id);\n                hienthibang();\n              },\n              children: \"Ch\\u1EA5m L\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 37\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 33\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 144,\n    columnNumber: 9\n  }, this);\n};\n_s(Chamcong, \"c6tNGdqYQgqvt6bve94dpCmiu1k=\", false, function () {\n  return [useNavigate];\n});\n_c = Chamcong;\nexport default Chamcong;\nvar _c;\n$RefreshReg$(_c, \"Chamcong\");","map":{"version":3,"names":["React","axios","useRef","useEffect","useState","Link","useNavigate","jsxDEV","_jsxDEV","Chamcong","_s","Nhansus","setNhansu","Chucvus","setChucvu","Chamcongs","setChamcongs","Calams","setCalam","UQuyenhang","sessionStorage","getItem","isOverlayVisible","setIsOverlayVisible","Calams_set","setCalams_set","idnsedit","setIdnsedit","inputRef","navigate","get","then","res","data","catch","err","console","log","Response","alert","response","filteredCalams","filter","e","some","cc","Idcalamviec","_id","Idns","tranghientai","settranghientai","soluongitem","indexcuoi","indexbacdau","ACalams","slice","maxitem","Math","ceil","length","nextPage","prevPage","hienthibang","tacbang","isButtonClicked","setIsButtonClicked","sldatetime","setsldatetime","handleDateChange","event","target","value","loc","setLoc","timkiemcalamtheongay","ngay","thang","nam","item","Ngay","Thang","Nam","ngayMatches","thangMatches","namMatches","timkiem","year","month","day","split","map","Number","result","resettimkiem","next_edit_chamcong","a","matchingId","forEach","motcalamviec","id","ten","start","end","className","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","locnhansu","setLocnhansu","tutim","setTutim","selectedOption","setSelectedOption","selecto","handleTim","filteredNhansus","ns","b","includes","resettimkiemtext","current","type","onChange","required","Tencalam","Starttime","Endtime","ref","placeholder","correspondingChucvu","find","c","Chucvu","Quyenhang","Hoten","Cccd","Mnv","Sdt","luong","Tenchucvu","Boolean","sort","to","_c","$RefreshReg$"],"sources":["C:/Users/vyvic/Downloads/filecode-doan/DoAnWebNhanSu/frontend/src/webfile/views/qlchamcong/qlcalamviec/chamcong/Cc.jsx"],"sourcesContent":["import React from 'react';\r\nimport axios from 'axios';\r\nimport { useRef, useEffect, useState } from 'react';\r\nimport '../../../../viewcss/qlchamcong/qlcalamviec/Cc.css';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nconst Chamcong = () => {\r\n    const [Nhansus, setNhansu] = useState([]);\r\n    const [Chucvus, setChucvu] = useState([]);\r\n    const [Chamcongs, setChamcongs] = useState([])\r\n    const [Calams, setCalam] = useState([])\r\n    const UQuyenhang = sessionStorage.getItem('UQuyenhang');\r\n\r\n    const [isOverlayVisible, setIsOverlayVisible] = useState(false);\r\n    const [Calams_set, setCalams_set] = useState([])\r\n    const [idnsedit, setIdnsedit] = useState('')\r\n\r\n    const inputRef = useRef(null);\r\n\r\n    const navigate = useNavigate()\r\n    useEffect(() => {\r\n        axios.get('http://localhost:3000/nhansu')\r\n            .then((res) => setNhansu(res.data)).catch(err => console.log(err));\r\n        axios.get('http://localhost:3000/chucvu')\r\n            .then(Response => { if (Response.data) { setChucvu(Response.data); } else { alert(Response.data) } }).catch(err => console.log(err));\r\n        axios.get('http://localhost:3000/chamcong')\r\n            .then(response => { if (response.data) { setChamcongs(response.data); } else { alert('No data found'); } }).catch(err => console.log(err));\r\n        axios.get('http://localhost:3000/calamviec')\r\n            .then((res) => setCalam(res.data)).catch(err => console.log(err))\r\n    }, [])\r\n    //calam\r\n    useEffect(() => {\r\n        const filteredCalams = Calams.filter(e => {\r\n            return Chamcongs.some(cc => cc.Idcalamviec === e._id && cc.Idns === idnsedit);\r\n        });\r\n        setCalams_set(filteredCalams);\r\n    }, [Calams, Chamcongs, idnsedit]);\r\n    //page phan chai\r\n    const [tranghientai, settranghientai] = useState(1);\r\n    const soluongitem = 9;\r\n    const indexcuoi = tranghientai * soluongitem;\r\n    const indexbacdau = indexcuoi - soluongitem;\r\n    const ACalams = Calams_set.slice(indexbacdau, indexcuoi);\r\n    const maxitem = Math.ceil(Calams_set.length / soluongitem);\r\n    const nextPage = () => {\r\n        if (tranghientai < maxitem) {\r\n            settranghientai(tranghientai + 1);\r\n        }\r\n    };\r\n\r\n    const prevPage = () => {\r\n        if (tranghientai > 1) {\r\n            settranghientai(tranghientai - 1);\r\n        }\r\n    };\r\n    function hienthibang() {\r\n        setIsOverlayVisible(true);\r\n    }\r\n    function tacbang() {\r\n        setIsOverlayVisible(false);\r\n    }\r\n\r\n    const [isButtonClicked, setIsButtonClicked] = useState(false);\r\n\r\n    const [sldatetime, setsldatetime] = useState('');\r\n    const handleDateChange = (event) => {\r\n        setsldatetime(event.target.value);\r\n    };\r\n    const [loc, setLoc] = useState([]);\r\n    function timkiemcalamtheongay(ngay, thang, nam) {\r\n        const loc = ACalams.filter(item => {\r\n            if (item.Ngay === ngay & item.Thang === thang & item.Nam === nam) {\r\n                const ngayMatches = item.Ngay === ngay;\r\n                const thangMatches = item.Thang === thang;\r\n                const namMatches = item.Nam === nam;\r\n                return ngayMatches || thangMatches || namMatches;\r\n            }\r\n            return false;\r\n        });\r\n        return loc;\r\n    }\r\n    function timkiem() {\r\n        const [year, month, day] = sldatetime.split('-').map(Number);\r\n        const result = timkiemcalamtheongay(day, month, year);\r\n        setLoc(result);\r\n        setIsButtonClicked(true);\r\n    }\r\n    function resettimkiem() {\r\n        setIsButtonClicked(false);\r\n    }\r\n    // const navigate = useNavigate()\r\n\r\n    //next edit\r\n\r\n    function next_edit_chamcong(a) {\r\n        let matchingId = '';\r\n        Chamcongs.forEach((e) => {\r\n            if (e.Idcalamviec === a && e.Idns === idnsedit) {\r\n                matchingId = e._id;\r\n            }\r\n        });\r\n        navigate('/quanlychamcong/quanlycalamviec/Chinhsuacc/&idns=' + idnsedit + '&idcc=' + matchingId + '&idcl=' + a);\r\n    }\r\n    //********** */\r\n    function motcalamviec(id, ten, start, end, ngay, thang, nam) {\r\n        return <button className='table_calam_select' onClick={() => { next_edit_chamcong(id); tacbang(); }}>\r\n            <tr>tên ca:{ten}</tr><div></div>\r\n            <tr>daytime:{ngay}/{thang}/{nam}</tr><div></div>\r\n            <tr>Thời gian làm:{start + \"H-\" + end}H</tr><div></div>\r\n            <tr>Lương:{Chamcongs.map((cc) => {\r\n                                    if (cc.Idcalamviec !== id) {\r\n                                        return cc.Idcalamviec;\r\n                                    }\r\n                                    return null;\r\n                                })}\r\n            </tr>\r\n        </button>\r\n    }\r\n    // const [isButtonClicked, setIsButtonClicked] = useState(false);\r\n    const [locnhansu, setLocnhansu] = useState([]);\r\n    const [tutim, setTutim] = useState({\r\n        tutim: ''\r\n    })\r\n    const [selectedOption, setSelectedOption] = useState({\r\n        selecto: ''\r\n    });\r\n\r\n    const handleTim = () => {\r\n        const a = tutim.tutim ? tutim.tutim + '' : 'Hoten';\r\n        const filteredNhansus = Nhansus.filter(ns => {\r\n            const b = ns[selectedOption.selecto] + '';\r\n            if (typeof a === 'string' && typeof b === 'string') {\r\n                return b.includes(a);\r\n            }\r\n            return false;\r\n        });\r\n        setLocnhansu(filteredNhansus);\r\n        setIsButtonClicked(true);\r\n    };\r\n    function resettimkiemtext() {\r\n        inputRef.current.value = ''; // Xóa giá trị của input\r\n    };\r\n    return (\r\n        <div>\r\n            <h1>Danh Sách Chấm Công</h1>\r\n            <div>\r\n\r\n                <div className={isOverlayVisible ? \"overlay show\" : \"overlay\"}>\r\n                    <div className=\"centeredTable\">\r\n                        <span>Danh Sách Ca Làm Đã Chấm</span><button onClick={tacbang}>Tắt bảng</button><br />\r\n                        <input type=\"date\" id='inputngaytim' value={sldatetime} onChange={handleDateChange} required></input> <button onClick={timkiem}>Tìm</button>\r\n                        <button onClick={resettimkiem}>reset</button><br />\r\n                        {isButtonClicked ? (\r\n                            loc.map(e => {\r\n                                return motcalamviec(e._id, e.Tencalam, e.Starttime, e.Endtime, e.Ngay, e.Thang, e.Nam)\r\n                            })\r\n                        ) : (\r\n                            ACalams.map(e => {\r\n                                return motcalamviec(e._id, e.Tencalam, e.Starttime, e.Endtime, e.Ngay, e.Thang, e.Nam)\r\n                            })\r\n                        )\r\n                        }\r\n                        <br /><button onClick={prevPage}>trở về</button>\r\n                        <span> trang:{tranghientai} </span>\r\n                        <button onClick={nextPage}>Tiếp</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div>\r\n                <h3>\r\n                    <select onChange={(e) => setSelectedOption({ ...selectedOption, selecto: e.target.value })}>\r\n                        <option value=''>Chọn một trường</option>\r\n                        <option value=\"Hoten\">Họ Tên</option>\r\n                        <option value=\"Mnv\">Mnv</option>\r\n                    </select>\r\n\r\n                    <input className='input-tim-kiem' type='text' ref={inputRef} onChange={(e) => { setTutim({ ...tutim, tutim: e.target.value }) }} placeholder='từ khóa tìm'></input>\r\n                    <button className='cachra' onClick={handleTim}>Tìm</button>\r\n                    <button className='cachra' onClick={() => { resettimkiem(); resettimkiemtext(); }}>reset</button>\r\n                </h3>\r\n            </div>\r\n            <table className='table'>\r\n                <thead>\r\n                    <tr>\r\n                        <th>Mã Nhân Viên</th>\r\n                        <th>Tên</th>\r\n                        <th>Chức Vụ</th>\r\n                        <th>Quyền Hạng</th>\r\n                        <th>Tùy Chọn</th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {isButtonClicked ? (\r\n                        locnhansu.map(e => {\r\n                            const correspondingChucvu = Chucvus.find((c) => c._id === e.Chucvu);\r\n                            if (correspondingChucvu && +correspondingChucvu.Quyenhang > +UQuyenhang) {\r\n                                return {\r\n                                    _id: e._id,\r\n                                    Hoten: e.Hoten,\r\n                                    Cccd: e.Cccd,\r\n                                    Mnv: e.Mnv,\r\n                                    Sdt: e.Sdt,\r\n                                    luong: e.luong,\r\n                                    Tenchucvu: correspondingChucvu.Tenchucvu,\r\n                                    Quyenhang: correspondingChucvu.Quyenhang,\r\n                                };\r\n                            } else {\r\n                                return null;\r\n                            }\r\n                        })\r\n                            .filter(Boolean) // Lọc bỏ các phần tử null\r\n                            .sort((a, b) => a.Quyenhang - b.Quyenhang) // Sắp xếp theo Quyenhang tăng dần\r\n                            .map((e) => (\r\n                                <tr >\r\n                                    <td>{e.Mnv}</td>\r\n                                    <td>{e.Hoten}</td>\r\n                                    <td>{e.Tenchucvu ? e.Tenchucvu : '-'}</td>\r\n                                    <td>{e.Quyenhang}</td>\r\n                                    <td className='td-tuychon'>\r\n                                        <Link to={'http://localhost:3001/quanlychamcong/quanlycalamviec/chamcongcanhan/&idns=' + e._id} className='btn btn-info btn-sm me-2'>\r\n                                            Chấm Công</Link>\r\n                                        <button className='btn btn-warning btn-sm' onClick={() => { setIdnsedit(e._id); hienthibang(); }}>\r\n                                            Chấm Lại</button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                    ) : (\r\n                        Nhansus.map(e => {\r\n                            const correspondingChucvu = Chucvus.find((c) => c._id === e.Chucvu);\r\n                            if (correspondingChucvu && +correspondingChucvu.Quyenhang > +UQuyenhang) {\r\n                                return {\r\n                                    _id: e._id,\r\n                                    Hoten: e.Hoten,\r\n                                    Cccd: e.Cccd,\r\n                                    Mnv: e.Mnv,\r\n                                    Sdt: e.Sdt,\r\n                                    luong: e.luong,\r\n                                    Tenchucvu: correspondingChucvu.Tenchucvu,\r\n                                    Quyenhang: correspondingChucvu.Quyenhang,\r\n                                };\r\n                            } else {\r\n                                return null;\r\n                            }\r\n                        })\r\n                            .filter(Boolean) // Lọc bỏ các phần tử null\r\n                            .sort((a, b) => a.Quyenhang - b.Quyenhang) // Sắp xếp theo Quyenhang tăng dần\r\n                            .map((e) => (\r\n                                <tr >\r\n                                    <td>{e.Mnv}</td>\r\n                                    <td>{e.Hoten}</td>\r\n                                    <td>{e.Tenchucvu ? e.Tenchucvu : '-'}</td>\r\n                                    <td>{e.Quyenhang}</td>\r\n                                    <td className='td-tuychon'>\r\n                                        <Link to={'http://localhost:3001/quanlychamcong/quanlycalamviec/chamcongcanhan/&idns=' + e._id} className='btn btn-info btn-sm me-2'>\r\n                                            Chấm Công</Link>\r\n                                        <button className='bt-chamlai' onClick={() => { setIdnsedit(e._id); hienthibang(); }}>\r\n                                            Chấm Lại</button>\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                    )}\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Chamcong;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}