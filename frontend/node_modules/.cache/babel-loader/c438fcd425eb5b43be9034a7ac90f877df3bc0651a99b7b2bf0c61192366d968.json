{"ast":null,"code":"import React from'react';import{useNavigate,useParams}from'react-router-dom';import{useState}from'react';import{useEffect}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Chinhsuachucvu=()=>{const currenturl=window.location.href;const timid=new URLSearchParams(currenturl);const idcv=timid.get('idcv');const UQuyenhang=sessionStorage.getItem('UQuyenhang');const[Chucvu,setChucvu]=useState({Tenchucvu:'',Quyenhang:'',Ghichu:''});const navigate=useNavigate();const handleSubmit=e=>{e.preventDefault();const dataToSend={Tenchucvu:Chucvu.Tenchucvu,Quyenhang:Chucvu.Quyenhang,Ghichu:Chucvu.Ghichu};if(dataToSend.Quyenhang<UQuyenhang){alert(\"không thể thêm chức vụ mới có quyền hạng cao hơn bản thân. quyền hạng bản thân: \"+UQuyenhang);}else{axios.put('http://localhost:3000/chucvu/'+idcv,dataToSend).then(res=>{navigate('/quanlycongtacnhanvien/quanlyvitri');}).catch(err=>console.log(err));}};useEffect(()=>{axios.get('http://localhost:3000/chucvu/'+idcv).then(response=>{if(response.data){setChucvu(response.data);}else{alert('No data found');}}).catch(err=>console.log(err));},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"Chinhsuachucvu\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"T\\xEAn Ch\\u1EE9c V\\u1EE5:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nh\\u1EADp T\\xEAn Ch\\u1EE9c V\\u1EE5\",value:Chucvu.Tenchucvu,onChange:e=>setChucvu({...Chucvu,Tenchucvu:e.target.value}),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Quy\\u1EC1n H\\u1EA1ng:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nh\\u1EADp Quy\\u1EC1n H\\u1EA1ng\",value:Chucvu.Quyenhang,onChange:e=>setChucvu({...Chucvu,Quyenhang:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputCCCD\",className:\"\",htmlFor:\"CCCD\",children:\"Ghi Ch\\xFA:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nh\\u1EADp Ghi Ch\\xFA\",value:Chucvu.Ghichu,onChange:e=>setChucvu({...Chucvu,Ghichu:e.target.value})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"\",children:\"s\\u1EEDa Ch\\u1EE9c V\\u1EE5\"})]})});};export default Chinhsuachucvu;","map":{"version":3,"names":["React","useNavigate","useParams","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Chinhsuachucvu","currenturl","window","location","href","timid","URLSearchParams","idcv","get","UQuyenhang","sessionStorage","getItem","Chucvu","setChucvu","Tenchucvu","Quyenhang","Ghichu","navigate","handleSubmit","e","preventDefault","dataToSend","alert","put","then","res","catch","err","console","log","response","data","className","children","onSubmit","type","placeholder","value","onChange","target","required","for","htmlFor"],"sources":["C:/Users/vyvic/Downloads/New folder (3)/frontend/src/webfile/views/qlhoso/quanlycongtacnhanvien/qlvitri/Chinhsuachucvu.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\nimport { useState } from 'react'\r\nimport { useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst Chinhsuachucvu = () => {\r\n    const currenturl = window.location.href;\r\n    const timid = new URLSearchParams(currenturl);\r\n    const idcv = timid.get('idcv');\r\n    const UQuyenhang = sessionStorage.getItem('UQuyenhang');\r\n    const [Chucvu, setChucvu] = useState({\r\n        Tenchucvu: '',\r\n        Quyenhang: '',\r\n        Ghichu: ''\r\n    })\r\n    const navigate = useNavigate()\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const dataToSend = {\r\n            Tenchucvu: Chucvu.Tenchucvu,\r\n            Quyenhang: Chucvu.Quyenhang,\r\n            Ghichu: Chucvu.Ghichu\r\n        };\r\n        if (dataToSend.Quyenhang < UQuyenhang) {\r\n            alert(\"không thể thêm chức vụ mới có quyền hạng cao hơn bản thân. quyền hạng bản thân: \" + UQuyenhang)\r\n        } else {\r\n            axios.put('http://localhost:3000/chucvu/' + idcv, dataToSend)\r\n                .then(res => {\r\n                    navigate('/quanlycongtacnhanvien/quanlyvitri')\r\n                })\r\n                .catch(err => console.log(err));\r\n        }\r\n        \r\n    }\r\n\r\n    useEffect(() => {\r\n        axios.get('http://localhost:3000/chucvu/' + idcv)\r\n            .then(response => {\r\n                if (response.data) {\r\n                    setChucvu(response.data);\r\n                } else {\r\n                    alert('No data found');\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n    }, [])\r\n    return (\r\n        <div className='Chinhsuachucvu'>\r\n            <form className='' onSubmit={handleSubmit}>\r\n                <div className=''>\r\n                    <label >Tên Chức Vụ:</label>\r\n                    <input type=\"text\" placeholder='Nhập Tên Chức Vụ' value={Chucvu.Tenchucvu} onChange={(e) => setChucvu({ ...Chucvu, Tenchucvu: e.target.value })} required /></div>\r\n                <div className=''>\r\n                    <label>Quyền Hạng:</label>\r\n                    <input type=\"text\" placeholder='Nhập Quyền Hạng' value={Chucvu.Quyenhang} onChange={(e) => setChucvu({ ...Chucvu, Quyenhang: e.target.value })} />\r\n                </div>\r\n\r\n                <div className=''>\r\n                    <label for=\"inputCCCD\" className=\"\" htmlFor=\"CCCD\">Ghi Chú:</label>\r\n                    <input type=\"text\" placeholder='Nhập Ghi Chú' value={Chucvu.Ghichu} onChange={(e) => setChucvu({ ...Chucvu, Ghichu: e.target.value })} />\r\n                </div>\r\n\r\n                <button className=''>sửa Chức Vụ</button>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Chinhsuachucvu;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}