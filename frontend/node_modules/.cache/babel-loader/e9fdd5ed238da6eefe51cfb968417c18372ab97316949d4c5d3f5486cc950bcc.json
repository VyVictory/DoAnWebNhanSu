{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vyvic\\\\Downloads\\\\filecode-doan\\\\DoAnWebNhanSu\\\\frontend\\\\src\\\\webfile\\\\login\\\\login.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport bcrypt from 'bcryptjs';\nimport '../viewcss/login/login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [tontai, setTontai] = useState(true);\n  const [taikhoan, setTaikhoan] = useState([]);\n  useEffect(() => {\n    axios.get('http://localhost:3000/account').then(res => setTaikhoan(res.data)).catch(err => console.log(err));\n  }, []);\n  const [dangky, setDangky] = useState({\n    User: '',\n    Email: '',\n    Password: '',\n    Passwordd: '',\n    Quyenhang: '0',\n    Quyentruyvan: 'admin'\n  });\n  useEffect(() => {\n    taikhoan.forEach(e => {\n      if (e.Quyentruyvan === 'admin') {\n        setTontai(false);\n      }\n    });\n  }, [taikhoan]); // Don't forget to add dependencies if needed\n\n  //bam pass\n\n  // Hàm băm mật khẩu\n  const hashPassword = async password => {\n    const saltRounds = 10; // Số lượng vòng lặp để tạo muối\n    const salt = await bcrypt.genSalt(saltRounds);\n    const hashedPassword = await bcrypt.hash(password, salt);\n    return hashedPassword;\n  };\n  const comparePasswords = async (inputPassword, hashedPassword) => {\n    try {\n      const match = await bcrypt.compare(inputPassword, hashedPassword);\n      return match; // Kết quả match sẽ là true hoặc false\n    } catch (error) {\n      console.error('Lỗi khi so sánh mật khẩu:', error);\n      return false;\n    }\n  };\n  //sosanh pass vs user************\n  const handleSubmitLogin = async event => {\n    event.preventDefault();\n    let accId = '';\n\n    // Tìm ID của tài khoản\n    taikhoan.forEach(e => {\n      if (username === e.User) {\n        accId = e._id;\n      }\n    });\n    try {\n      // Gọi API để lấy thông tin người dùng dựa trên ID\n      const response = await axios.get('http://localhost:3000/account/' + accId);\n      const user = response.data;\n\n      // So sánh mật khẩu\n      const isMatch = await comparePasswords(password, user.Password);\n      if (isMatch) {\n        sessionStorage.setItem('loggedIn', 'true');\n        sessionStorage.setItem('Uid', user._id);\n        sessionStorage.setItem('UUser', user.User);\n        sessionStorage.setItem('UQuyenhang', user.Quyenhang);\n        sessionStorage.setItem('UQuyentruyvan', user.Quyentruyvan);\n        window.location.reload();\n      } else {\n        alert(\"Tài khoản hoặc mật khẩu sai\");\n      }\n    } catch (error) {\n      console.error('Lỗi:', error);\n    }\n  };\n\n  //********** */\n  const handleSubmitRegister = async () => {\n    try {\n      const hashedPassword = await hashPassword(dangky.Password);\n      const dataToSend = {\n        User: dangky.User,\n        Email: dangky.Email,\n        Password: hashedPassword + '',\n        Quyenhang: dangky.Quyenhang,\n        Quyentruyvan: dangky.Quyentruyvan\n      };\n      if (dangky.Password !== dangky.Passwordd) {\n        alert(\"Mật khẩu không giống nhau\");\n      } else {\n        const response = await axios.post('http://localhost:3000/account', dataToSend);\n        if (response.data) {\n          alert(\"Đăng ký thành công\");\n          window.location.reload();\n        } else {\n          alert(response.data);\n        }\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n  function formdangky() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"signup-page\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signup-form-container\",\n        style: {\n          display: showLoginForm ? 'none' : 'block'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title\",\n          children: \" SignUp Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmitRegister,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"user\",\n              className: \"form-lable\",\n              children: \"User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              value: dangky.User,\n              onChange: e => setDangky({\n                ...dangky,\n                User: e.target.value\n              }),\n              id: \"user\",\n              className: \"form-control\",\n              type: \"text\",\n              name: \"user\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"email\",\n              className: \"form-lable\",\n              children: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"email\",\n              required: true,\n              value: dangky.Email,\n              onChange: e => setDangky({\n                ...dangky,\n                Email: e.target.value\n              }),\n              id: \"email\",\n              className: \"form-control\",\n              name: \"email\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"form-lable\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              required: true,\n              value: dangky.Password,\n              onChange: e => setDangky({\n                ...dangky,\n                Password: e.target.value\n              }),\n              id: \"Password\",\n              className: \"form-control\",\n              name: \"passwowrd\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"confim-password\",\n              className: \"form-lable\",\n              children: \"Confim Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              required: true,\n              value: dangky.Passwordd,\n              onChange: e => setDangky({\n                ...dangky,\n                Passwordd: e.target.value\n              }),\n              id: \"confim-password\",\n              className: \"form-control\",\n              name: \"confimPassword\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"submit-btn\",\n            children: \" SignUp \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: handleToggleForm,\n          className: \"submit-btn-phu\",\n          children: \" Login \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this);\n  }\n  const [showLoginForm, setShowLoginForm] = useState(true);\n  const handleToggleForm = () => {\n    setShowLoginForm(!showLoginForm);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-form-container\",\n      style: {\n        display: showLoginForm ? 'block' : 'none'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"title\",\n        children: \" Login Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"all_center_login\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmitLogin,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"user\",\n              className: \"form-lable\",\n              children: \"Username:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              required: true,\n              id: \"user\",\n              className: \"form-control\",\n              name: \"user\",\n              value: username,\n              onChange: e => setUsername(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"password\",\n              className: \"form-lable\",\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"password\",\n              required: true,\n              id: \"Password\",\n              className: \"form-control\",\n              name: \"passwowrd\",\n              value: password,\n              onChange: e => setPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"submit-btn\",\n            children: \" Login \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), tontai === false ? null : /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: handleToggleForm,\n          className: \"submit-btn-phu\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 47\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this), tontai === false ? null : formdangky()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 149,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"qIpgXWbgaB7Qvmn0b/tpVKu98Vs=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useEffect","useState","axios","bcrypt","jsxDEV","_jsxDEV","Login","_s","username","setUsername","password","setPassword","tontai","setTontai","taikhoan","setTaikhoan","get","then","res","data","catch","err","console","log","dangky","setDangky","User","Email","Password","Passwordd","Quyenhang","Quyentruyvan","forEach","e","hashPassword","saltRounds","salt","genSalt","hashedPassword","hash","comparePasswords","inputPassword","match","compare","error","handleSubmitLogin","event","preventDefault","accId","_id","response","user","isMatch","sessionStorage","setItem","window","location","reload","alert","handleSubmitRegister","dataToSend","post","formdangky","className","children","style","display","showLoginForm","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","required","value","onChange","target","id","type","name","onClick","handleToggleForm","setShowLoginForm","_c","$RefreshReg$"],"sources":["C:/Users/vyvic/Downloads/filecode-doan/DoAnWebNhanSu/frontend/src/webfile/login/login.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport bcrypt from 'bcryptjs';\r\nimport '../viewcss/login/login.css'\r\nconst Login = () => {\r\n    const [username, setUsername] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [tontai, setTontai] = useState(true);\r\n    const [taikhoan, setTaikhoan] = useState([]);\r\n    useEffect(() => {\r\n        axios.get('http://localhost:3000/account')\r\n            .then((res) => setTaikhoan(res.data)).catch(err => console.log(err))\r\n    }, [])\r\n    const [dangky, setDangky] = useState({\r\n        User: '',\r\n        Email: '',\r\n        Password: '',\r\n        Passwordd: '',\r\n        Quyenhang: '0',\r\n        Quyentruyvan: 'admin',\r\n    })\r\n    useEffect(() => {\r\n        taikhoan.forEach((e) => {\r\n            if (e.Quyentruyvan === 'admin') {\r\n                setTontai(false);\r\n            }\r\n        });\r\n    }, [taikhoan]); // Don't forget to add dependencies if needed\r\n    \r\n    //bam pass\r\n\r\n    // Hàm băm mật khẩu\r\n    const hashPassword = async (password) => {\r\n        const saltRounds = 10; // Số lượng vòng lặp để tạo muối\r\n        const salt = await bcrypt.genSalt(saltRounds);\r\n        const hashedPassword = await bcrypt.hash(password, salt);\r\n        return hashedPassword;\r\n    };\r\n    const comparePasswords = async (inputPassword, hashedPassword) => {\r\n        try {\r\n            const match = await bcrypt.compare(inputPassword, hashedPassword);\r\n            return match; // Kết quả match sẽ là true hoặc false\r\n        } catch (error) {\r\n            console.error('Lỗi khi so sánh mật khẩu:', error);\r\n            return false;\r\n        }\r\n    };\r\n    //sosanh pass vs user************\r\n    const handleSubmitLogin = async (event) => {\r\n        event.preventDefault();\r\n        let accId = '';\r\n    \r\n        // Tìm ID của tài khoản\r\n        taikhoan.forEach((e) => {\r\n            if (username === e.User) {\r\n                accId = e._id;\r\n            }\r\n        });\r\n    \r\n        try {\r\n            // Gọi API để lấy thông tin người dùng dựa trên ID\r\n            const response = await axios.get('http://localhost:3000/account/' + accId);\r\n            const user = response.data;\r\n    \r\n            // So sánh mật khẩu\r\n            const isMatch = await comparePasswords(password, user.Password);\r\n    \r\n            if (isMatch) {\r\n                sessionStorage.setItem('loggedIn', 'true');\r\n                sessionStorage.setItem('Uid', user._id);\r\n                sessionStorage.setItem('UUser', user.User);\r\n                sessionStorage.setItem('UQuyenhang', user.Quyenhang);\r\n                sessionStorage.setItem('UQuyentruyvan', user.Quyentruyvan);\r\n                window.location.reload();\r\n            } else {\r\n                alert(\"Tài khoản hoặc mật khẩu sai\");\r\n            }\r\n        } catch (error) {\r\n            console.error('Lỗi:', error);\r\n        }\r\n    };\r\n    \r\n    //********** */\r\n    const handleSubmitRegister = async () => {\r\n        try {\r\n            const hashedPassword = await hashPassword(dangky.Password);\r\n            const dataToSend = {\r\n                User: dangky.User,\r\n                Email: dangky.Email,\r\n                Password: hashedPassword + '',\r\n                Quyenhang: dangky.Quyenhang,\r\n                Quyentruyvan: dangky.Quyentruyvan\r\n            };\r\n            if (dangky.Password !== dangky.Passwordd) {\r\n                alert(\"Mật khẩu không giống nhau\");\r\n            } else {\r\n                const response = await axios.post('http://localhost:3000/account', dataToSend);\r\n                if (response.data) {\r\n                    alert(\"Đăng ký thành công\");\r\n                    window.location.reload();\r\n                } else {\r\n                    alert(response.data);\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    };\r\n    function formdangky() {\r\n        return (\r\n            <div className='signup-page'>\r\n                <div className='signup-form-container' style={{ display: showLoginForm ? 'none' : 'block' }}>\r\n                    <h1 className='title'> SignUp Account</h1>\r\n                    <form onSubmit={handleSubmitRegister}>\r\n                        <div className='mb-2'>\r\n                            <label htmlFor='user' className='form-lable'>User</label>\r\n                            <input required value={dangky.User} onChange={(e) => setDangky({ ...dangky, User: e.target.value })} id='user' className='form-control' type='text' name='user' ></input>\r\n                        </div>\r\n\r\n                        <div className='mb-2'>\r\n                            <label htmlFor='email' className='form-lable'>email</label>\r\n                            <input type='email' required value={dangky.Email} onChange={(e) => setDangky({ ...dangky, Email: e.target.value })} id='email' className='form-control' name='email' ></input>\r\n                        </div>\r\n\r\n                        <div className='mb-2'>\r\n                            <label htmlFor='password' className='form-lable'>Password</label>\r\n                            <input type=\"password\" required value={dangky.Password} onChange={(e) => setDangky({ ...dangky, Password: e.target.value })} id='Password' className='form-control' name='passwowrd' ></input>\r\n                        </div>\r\n\r\n                        <div className='mb-2'>\r\n                            <label htmlFor='confim-password' className='form-lable'>Confim Password</label>\r\n                            <input type=\"password\" required value={dangky.Passwordd} onChange={(e) => setDangky({ ...dangky, Passwordd: e.target.value })} id='confim-password' className='form-control'  name='confimPassword' ></input>\r\n                        </div>\r\n\r\n                        <button type='submit' className='submit-btn'> SignUp </button>\r\n                        </form>\r\n                        <button type='submit' onClick={handleToggleForm} className='submit-btn-phu'> Login </button>\r\n                    \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    const [showLoginForm, setShowLoginForm] = useState(true);\r\n\r\n    const handleToggleForm = () => {\r\n        setShowLoginForm(!showLoginForm);\r\n    };\r\n    return (\r\n        <div className='login-page'>\r\n            <div className='login-form-container' style={{ display: showLoginForm ? 'block' : 'none' }}>\r\n                <h1 className='title'> Login Account</h1>\r\n                <div className='all_center_login'>\r\n                    <form  onSubmit={handleSubmitLogin} >\r\n                    <div className='mb-2'>\r\n                        <label htmlFor='user' className='form-lable'>Username:</label>\r\n                        <input required id='user' className='form-control'  name='user' value={username} onChange={(e) => setUsername(e.target.value)} ></input>\r\n                    </div>\r\n                    <div className='mb-2'>\r\n                        <label htmlFor='password' className='form-lable'>Password</label>\r\n                        <input type=\"password\" required id='Password' className='form-control' name='passwowrd' value={password} onChange={(e) => setPassword(e.target.value)}></input>\r\n                    </div>\r\n                    <button type='submit'  className='submit-btn'> Login </button>\r\n                    </form>\r\n                    {tontai ===false ? null : <button type='submit' onClick={handleToggleForm} className='submit-btn-phu'>Register</button>}\r\n\r\n                </div>\r\n            </div>\r\n            {tontai === false ? null : formdangky()}\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}